<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <title>View Ride</title>
</head>

<body>
    <div id="view-ride" class="hoja-container">
        <!-- Imagen del logo centrada -->
        <div class="logo-section">
            <img src="Images/logo.jpg" alt="logo">
            <h1>AVENTONES</h1>
        </div>
        <!-- Barra de navegación -->
        <nav class="navbar">
            <a href="/proyecto2/SearchHome.html" class="nav-link">Home</a>
            <a id="ridesLink" href="/proyecto2/MyRides.html" class="nav-link">Rides</a>
            <a href="/proyecto2/Booking.html" class="nav-link">Booking</a>
            <input type="text" class="search-input" placeholder="Search...">

            <!-- Icono de perfil con un menú desplegable -->
            <div class="icon-wrapper" tabindex="0">
                <i class="fas fa-user" id="profile-icon"></i>
                <div class="dropdown-menu">
                    <a href="/proyecto2/InfoUsuario.html" class="dropdown-item">Settings</a>
                    <a href="/proyecto2/Login.html" class="dropdown-item">Logout</a>
                </div>
            </div>
        </nav>
        <h5>View Ride</h5>

        <!-- Contenedor para mostrar los detalles del viaje -->
        <div class="ride-details">
            <p><strong>From:</strong> <span id="departure"></span></p>
            <p><strong>To:</strong> <span id="arrival"></span></p>
            <p><strong>Seats:</strong> <span id="seats"></span></p>
            <p><strong>Car:</strong> <span id="car"></span></p>
            <p><strong>Free:</strong> <span id="fee"></span></p>
            <a href="/proyecto2/MyRides.html" class="new-ride2-btn">Back</a>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Obtener el índice del viaje desde la URL
            const urlParams = new URLSearchParams(window.location.search);
            const index = urlParams.get('index');

            // Obtener los datos del localStorage
            const rides = JSON.parse(localStorage.getItem('rides')) || [];
            const ride = rides[index];

            // Verificar si el viaje existe
            if (ride) {
                // Mostrar los detalles del viaje
                document.getElementById('departure').textContent = ride.departure;
                document.getElementById('arrival').textContent = ride.arrival;
                document.getElementById('seats').textContent = ride.seats;
                document.getElementById('car').textContent = `${ride.make} ${ride.model}`;
                document.getElementById('fee').textContent = ride.fee > 0 ? 'No' : 'Yes';
            } else {
                alert('Ride not found');
                window.location.href = '/proyecto2/MyRides.html'; // Redirigir si el viaje no se encuentra
            }
        });
    </script>
</body>

</html>
